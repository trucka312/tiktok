{"ast":null,"code":"import _objectSpread from\"D:/reactjs/tiktok/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/reactjs/tiktok/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/reactjs/tiktok/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Tippy from\"@tippyjs/react/headless\";import classNames from\"classnames/bind\";import{useState}from\"react\";import styles from\"./Menu.module.scss\";import{Wrapper as PopperWrapper}from\"../../popper\";import MenuItem from\"./MenuItem.js\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function Menu(_ref){var children=_ref.children,_ref$items=_ref.items,items=_ref$items===void 0?[]:_ref$items;var _useState=useState([{data:items}]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var current=history[history.length-1];var renderItems=function renderItems(){return current.data.map(function(item,index){var isParent=!!item.children;return/*#__PURE__*/_jsx(MenuItem,{keys:index,data:item,onClick:function onClick(){if(isParent){setHistory(function(prev){return[].concat(_toConsumableArray(prev),[item.children]);});}}});});};return/*#__PURE__*/_jsx(Tippy// visible\n,{interactive:true,delay:[0,500],placement:\"bottom-end\",render:function render(attrs){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({className:cx(\"menu-list\"),tabIndex:\"-1\"},attrs),{},{children:/*#__PURE__*/_jsxs(PopperWrapper,{className:cx(\"menu-popper\"),children:[history.length>1&&/*#__PURE__*/_jsx(Header,{title:\"Language\",onBack:function onBack(){setHistory(function(prev){return prev.slice(0,prev.length-1);});}}),renderItems()]})}));},onHide:function onHide(){setHistory(function(prev){return prev.slice(0,1);});},children:children});}export default Menu;","map":{"version":3,"names":["Tippy","classNames","useState","styles","Wrapper","PopperWrapper","MenuItem","Header","cx","bind","Menu","children","items","data","history","setHistory","current","length","renderItems","map","item","index","isParent","prev","attrs","slice"],"sources":["D:/reactjs/tiktok/src/component/popper/Menu/index.js"],"sourcesContent":["import Tippy from \"@tippyjs/react/headless\";\r\nimport classNames from \"classnames/bind\";\r\nimport { useState } from \"react\";\r\n\r\nimport styles from \"./Menu.module.scss\";\r\nimport { Wrapper as PopperWrapper } from \"../../popper\";\r\nimport MenuItem from \"./MenuItem.js\";\r\nimport Header from \"./Header\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Menu({ children, items = [] }) {\r\n  const [history, setHistory] = useState([{ data: items }]);\r\n  const current = history[history.length - 1];\r\n\r\n  const renderItems = () => {\r\n    return current.data.map((item, index) => {\r\n      const isParent = !!item.children;\r\n      return (\r\n        <MenuItem\r\n          keys={index}\r\n          data={item}\r\n          onClick={() => {\r\n            if (isParent) {\r\n              setHistory((prev) => [...prev, item.children]);\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Tippy\r\n      // visible\r\n      interactive\r\n      delay={[0, 500]}\r\n      placement=\"bottom-end\"\r\n      render={(attrs) => (\r\n        <div className={cx(\"menu-list\")} tabIndex=\"-1\" {...attrs}>\r\n          <PopperWrapper className={cx(\"menu-popper\")}>\r\n            {history.length > 1 && (\r\n              <Header\r\n                title=\"Language\"\r\n                onBack={() => {\r\n                  setHistory((prev) => prev.slice(0, prev.length - 1));\r\n                }}\r\n              />\r\n            )}\r\n            {renderItems()}\r\n          </PopperWrapper>\r\n        </div>\r\n      )}\r\n      onHide={() => {\r\n        setHistory((prev) => prev.slice(0, 1))\r\n      }}\r\n    >\r\n      {children}\r\n    </Tippy>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n"],"mappings":"4TAAA,MAAOA,MAAK,KAAM,yBAAyB,CAC3C,MAAOC,WAAU,KAAM,iBAAiB,CACxC,OAASC,QAAQ,KAAQ,OAAO,CAEhC,MAAOC,OAAM,KAAM,oBAAoB,CACvC,OAASC,OAAO,GAAIC,cAAa,KAAQ,cAAc,CACvD,MAAOC,SAAQ,KAAM,eAAe,CACpC,MAAOC,OAAM,KAAM,UAAU,CAAC,wFAE9B,GAAMC,GAAE,CAAGP,UAAU,CAACQ,IAAI,CAACN,MAAM,CAAC,CAElC,QAASO,KAAI,MAA2B,IAAxBC,SAAQ,MAARA,QAAQ,iBAAEC,KAAK,CAALA,KAAK,qBAAG,EAAE,YAClC,cAA8BV,QAAQ,CAAC,CAAC,CAAEW,IAAI,CAAED,KAAM,CAAC,CAAC,CAAC,wCAAlDE,OAAO,eAAEC,UAAU,eAC1B,GAAMC,QAAO,CAAGF,OAAO,CAACA,OAAO,CAACG,MAAM,CAAG,CAAC,CAAC,CAE3C,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,MAAOF,QAAO,CAACH,IAAI,CAACM,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CACvC,GAAMC,SAAQ,CAAG,CAAC,CAACF,IAAI,CAACT,QAAQ,CAChC,mBACE,KAAC,QAAQ,EACP,IAAI,CAAEU,KAAM,CACZ,IAAI,CAAED,IAAK,CACX,OAAO,CAAE,kBAAM,CACb,GAAIE,QAAQ,CAAE,CACZP,UAAU,CAAC,SAACQ,IAAI,qCAASA,IAAI,GAAEH,IAAI,CAACT,QAAQ,IAAC,CAAC,CAChD,CACF,CAAE,EACF,CAEN,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,KAAC,KACC;AAAA,EACA,WAAW,MACX,KAAK,CAAE,CAAC,CAAC,CAAE,GAAG,CAAE,CAChB,SAAS,CAAC,YAAY,CACtB,MAAM,CAAE,gBAACa,KAAK,qBACZ,wCAAK,SAAS,CAAEhB,EAAE,CAAC,WAAW,CAAE,CAAC,QAAQ,CAAC,IAAI,EAAKgB,KAAK,4BACtD,MAAC,aAAa,EAAC,SAAS,CAAEhB,EAAE,CAAC,aAAa,CAAE,WACzCM,OAAO,CAACG,MAAM,CAAG,CAAC,eACjB,KAAC,MAAM,EACL,KAAK,CAAC,UAAU,CAChB,MAAM,CAAE,iBAAM,CACZF,UAAU,CAAC,SAACQ,IAAI,QAAKA,KAAI,CAACE,KAAK,CAAC,CAAC,CAAEF,IAAI,CAACN,MAAM,CAAG,CAAC,CAAC,GAAC,CACtD,CAAE,EAEL,CACAC,WAAW,EAAE,GACA,GACZ,EACN,CACF,MAAM,CAAE,iBAAM,CACZH,UAAU,CAAC,SAACQ,IAAI,QAAKA,KAAI,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,GAAC,CACxC,CAAE,UAEDd,QAAQ,EACH,CAEZ,CAEA,cAAeD,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}